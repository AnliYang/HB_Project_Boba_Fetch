{% extends 'base.html' %}
{% block content %}
<div class="container">
    <h2 id="results-title">Boba Near You <small>({{ restaurants|length }} results)</small></h2>
    <div id="results" data-restaurants="{{ restaurants }}">
        {% if restaurants %}
            {% for restaurant in restaurants %}
            {% if loop.index is divisibleby 4 %}
            <div class="row">
            {% endif %}
                <div class="col-xs-3 restaurant">
                    <div class="thumbnail">
                        <div><img src={{ restaurant.image_url }} class="img-circle img-restaurant" alt="restaurant image"></div>
                        <div class="caption">
                            <h3><div class="restaurant-name">{{ restaurant.name }}</div></h3>
            <!--                 <div><a href="{{ restaurant.yelp_url }}">View on Yelp</a></div> -->
            <!--                 <div><img src={{ restaurant.rating_img_url }}></div> -->
                            <p class="rating-and-reviews">
                                <span class="rating">{{ restaurant.rating }}</span><span class="fa fa-star rating-star" aria-hidden="true"></span>
                                <span class="reviews">{{ restaurant.review_count }}</span><i class="fa fa-users reviews-users"></i>
                            </p>
                            <address>
                                <div>{{ restaurant.street1 }}</div>
                                <div>{{ restaurant.city }}, {{ restaurant.state }} {{ restaurant.zip5 }}</div>
                            </address>
                            <div>
                                <form action="/map" method="POST">
                                    <input type="hidden" name="yelp-id" value="{{ restaurant.yelp_location_id }}">
                                    <input type="hidden" name="user-address" value="{{ user_address }}">
                                    <input type="hidden" name="user-lat" value="{{ user_latitude }}">
                                    <input type="hidden" name="user-lng" value="{{ user_longitude }}">
                                    <input type="hidden" name="run-speed" value="{{ running_speed }}">
            <!--                         <input type="submit" value="Map It!"> -->
                                    <div class="btn-group">
                                        <button type="submit" class="btn btn-primary">
                                            <span class="glyphicon glyphicon-map-marker" aria-hidden="true"></span>
                                            Map It!
                                        </button>
                                        <a href="{{ restaurant.yelp_url }}" class="btn btn-warning"><i class="fa fa-yelp"></i> Learn more!
                                        </a>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            {% if loop.index is divisibleby 4 %}
            </div>
            {% endif %}
            {% endfor %}
        {% endif %}
    </div>
</div>

<script src="static/js/results.js"></script>

{% endblock %}